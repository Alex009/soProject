/*

мысли по поводу добавления в мп нормального спавна (через смарт террейны в *.spawn) будут тут

*/

09.12.11: 
придумал как решить проблему и с пропиской в геймграф и с работоспособностью смартов...в level.spawn смарты не работают, там они не как алайф объекты создаются и всё идёт в жопу...но я сделаю чтобы грузился не all.spawn основной а alife.spawn в директории карты...а у каждой карты свой alife.spawn в котором в геймграф только эта карта и спавны только для этой карты...попробуемс :)
и так:
1. сделать загрузку не all.spawn а level_dir/alife.spawn
2. собрать для теста all.spawn с 1 единственным спавном - смарта в припяти и сунуть в директорию припяти под именем alife.spawn
3. убрать блокировку загрузки спавнов из all.spawn (alife.spawn)
4. проверить :)

апд: идея хорошо пошла...но проблема при создании смарт террейна, почему то данные исчезают...и проблема с геймграфом - он не распаковывается acdc...

апд: смарт террейн нормально создаётся, но не спавнится (не идёт net_spawn) надо сделать его всегда онлайн...

10.12.11:
враньё всё было на счёт не спавнится...не вызывается апдейт - вот это правда...а не вызывается изза странной проблемы...смарт регится в шедул регистр а потом бац и в регистре ни*уя нету! что за наглость?кто объяснит такой идиотизм?

ставим бряк сюда: AC550 потом берем класс созданный и ставим бряк на 
i = ((класс + 0xC) + 4) + класс + 0x28

и в добавок i + 0x18

10BCA600

опять ошибка со смещением 3010...ОПЯТЬ ДРАНЫЙ КЛАСС ИСЧЕЗАЕТ!

апд: вернув спавн актора в алл.спавн проблема с 3010 вроде исчезла (хотя с дебагером не проверял)...ну с обычным алл.спавн всё работает просто чудесно...

так же понял как сделать нормально без актора...

апд: сделал нормально создание актора без прописки в алл.спавн

апд: вызывается у террейна on_register...но после него всё рушится к чертям...надо копаться что там после него идёт не так...

11.12.11:
запустил игру под дебагером...спокойно работала даже после on_register террейна...что за чертовщина не пойму

апд: почитал вчерашние логи полностью...вот дурак...
! IPureServer : port 5446 is BUSY!
! IPureServer : port 5447 is BUSY!
! IPureServer : port 5448 is BUSY!
! IPureServer : port 5449 is BUSY!
! IPureServer : port 5450 is BUSY!

и потом выход в меню и следствие - вылет...всё нормально короче >< щас надо понять куда апдейт террейна теряется оО точнее почему из зарегеных в шедуле его нету

апд: убирается из зареганых в шедуле тут: A46C0...вызывается из A675D а тот из B237E (CSE_ALifeDynamicObject::add_online) что за бред?

апд: по коду так и должно быть...из шедула убирается объект при переходе в онлайн...значит смарты всегда в оффлайне...

апд: B285B - вызов проверки перехода в онлайн...и он разумеется вернул единицу...сволочь :)щас исправим положение...

апд: сделал чтоб они всегда в оффлайне были...смарты теперь прекрасно работают но появилась проблема с акторами - у них почему то полчучается bad_position с вылетом...почему - я без понятия

434D89 -> 384C43 -> A40A8 -> on_death

xrServer::Process_event -> 

апд: нашёл почему не вызывается on_death в скрипт...убрал привидение типов но лучше сделать условно если тип не получилось привести к актору то вызывать он_дез сингла

апд: спавн работает, сделал спавн кабанчиков...хорошая штука смарты, умный спавн...