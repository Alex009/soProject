Готово:
1. Восстановлен биндер объектов
2. Исправлен вылет выделенного сервера при загрузке одиночной карты
3. Исправлен вылет при выключении сервера
4. Исправлен вылет при смене режима игры через голосование
5. Исправлен вылет в режиме "Захват артефакта" (Capture The Artefact)
6. Игрокам загружается профиль и специфики mp_actor (поправка: боты не реагируют на комьюнити игроков, т.к. логика требует чтобы объект был зарегистрирован в скриптах, в 1.1.0 mp_actor'ы будут добавлены в скрипты, и боты будут исправно реагировать на игроков)
7. Фонарик и бинокль сделаны бесплатными
8. У NPC теперь оружие для mp
9. Исправлен вылет после реконнекта клиента (без выключения игры, игра не находила объект и вылетала)

ВАЖНО:
=========================================================================================
+ После фикса загрузки профиля mp_actor возможно скины игроков опять меняются, и надо убрать хук фикса ненужный... (проверил - скины нормальные, ненужный фикс убрал)
+ Узнать что за беда с интерфейсом при подключении серверного клиента (убрал интерфейс обычного актора, теперь всё нормально)
+ Сделать проверку изменения сплеш скрина (готово, проверка по мд5 ресурса)
+ Локации сингла (все запускаются)

- Работает ли запись демо... (демо записи не работают...)
=========================================================================================

27.02.2012: вылет на захвате артефакта в 1038EFD3

15.03.2012: для создания класса объекта нужно:
1. выделить память
2. инициализировать на памяти класс
3. вызвать конструктор класса (+0x0)
4. вызвать Load класса (параметр - секция) (+0x28)

17.03.2012: прошёл Mass Effect 3...можно продолжать работу над сталкером :) как я определился - исправить оставшиеся баги, добавить пару карт...если в 5 бете не будет вылетов то добавлю все карты и выложу релиз :) после этого допилю норм синхру и сделаю релиз 1.0.1 с новой синхрой...после чего уже будет мудрёж с добавлением новых фич...

18.03.2012: надоели перескоки с разработкой, биндер этот делать не в тему начал...сначало надо доделать нормальное создание CActor а потом уже делать биндер этот...ну и CSE_ALifeCreatureActor надо сделать...короче с псевдоакторами надо разобраться

апд: думаю сделать надо так: создавать актора через CLevel::g_cl_Spawn

апд: нужен полный спавн актора, т.е. полностью связанный...чтобы серверный был связан с клиентским...ид одинаковый и всё такое...блин...может тупо в alife.spawn вернуть его?и сделать не видимым

апд: сделал адекватную загрузку актора синглового...в alife.spawn он теперь...но надо сделать чтобы его в игровом мире небыло и ещё появился баг при выключении - 71280

апд: затон запустился...но проблему с убиранием актора из мира не решил ещё и при выключении проблема так и висит

20.03.2012: убрать актора можно на много проще - setVisible(0) как я раньше не додумался! :)

апд: сделал перевод актора в инвиз + отключил апдейт кл и планировщика...так же вырубил нид апдейт серверному актору.И сделал рабочий условный биндер (биндит только у сервера)

21.03.2012: CSE_Abstract::Spawn_Read -> CSE_ALifeCreatureActor::STATE_Read -> CSE_ALifeTraderAbstract::STATE_Read -> CSE_ALifeTraderAbstract::specific_character

22.03.2012:  разобрался почему вылет у клиента - актор не цепляется в m_actor - надо сделать чтобы у клиента m_actor то и дело менялась...сначала спавнится весь мир вместе с CActor и CActor пишем в эту переменую, потом когда игрок спавнится мы пишем в неё CActorMP, потом CActorMP умирает и мы возвращаем указатель на CActor (который никогда не сдохнет и не пропадёт) и снова к пункту 2

апд: при апдейте сервер на затоне передаёт:
138
11 * 17
70 * 95
10 * 6
60 * 73
54 * 8
55 * 4
2 * 8
19 * 3
18 * 8
байт... это 138 + 187 + 6650 + 60 + 4380 + 432 + 220 + 16 + 57 + 144 = 12284 (11,99609375 КБ/апдейт) = (239,921875 КБ/с при рейте 20)

апд: изза того что клиент долго грузит затон получаем вылет изза анимации...проверки на сервере не достаточно, надо клиенту врубить проверку на готовность проигрывать анимацию

апд: покапаюсь по мп билду в поисках чего нибудь что будет однозначно определять что клиент готов к проигрыванию анимации...

апд: знаю что уже пробовал так сделать, но думаю должно всё таки работать...

array = CKinematics + 0x44D8 + 0x104 * MotionID;
for(int i = 0;i < CKinematics + 0x45D8 + 0x104 * MotionID;i++)
{
	item = CKinematics + 0x44D8 + 0x104 * MotionID + 4*i;
	if(!item) return;
}

апд: добавив условия на моушнид (не -1 и меньше 4) всё вроде стало работать....плюс определил беду с актором - при net_destroy мп актора всё таки падает всё...там чтото напутал

апд: в моушенах с айди больше 4 слетает...надо узнать ограничение моушенов (а то без ограничения 4 пытается работать с 20D8 моушеном)

23.03.2012: сделал нормальную проверку на готовность анимаций (всего моушнов 4, поэтому проверяются все они). Затон работает, клиент к нему подключатся...кстати вылет получил когда взял артефакт светящийся штурвал...

апд: починил подменялку актора и вырубил апдейт псевдоактора...теперь можно заниматься выключением сервера...

апд: кажется проблем с выключением нет если на сервер не заходили игроки...или если не было спавна?ммм....

апд: подержал сервак включеным подольше...вылет всё таки получил:) не относится это к заходу игроков на сервер...вылет в 100762E5...слетело при анреге зоны zone_field_thermal_weak

апд: сама функция анрега хоть как рабочая...чтото во время работы сервера портит данные чтоб потом был вылет...но что...ведь если выключить сервер сразу то никаких проблем нет, но если подержать его подольше то бяда полнейшая...проверю как затон работает...сразу выключу проверю есть вылет или нет...

апд: спокойно выключился, без проблем...что же такое делает сервер во время работы что всё ломается...может вырубить game_sv_Deathmatch::Update ?

апд: переключил game_sv_Deathmatch::Update на game_sv_GameState::Update...проверяю теперь...

апд: теперь выключение проходит нормально...попробую поставить game_sv_mp::Update...

апд: снова всё хорошо...значит ищем беду в game_sv_Deathmatch::Update

апд: выключил check_for_Anomalies...оказалось не они, вылетело всё...отключение всех check тоже не помогло...что же не так...

апд: выключил весь кейс 1 - не помогло, вырубил game_sv_Deathmatch::checkForRoundStart - не помогло.

апд: выключил кейс 2 - помогло! значит бяда в 1038E5C0

24.03.2012: с виду в 1038E5C0 бед никаких не должно быть, там сбор статистики если это включено в настройках сервака (а это у меня выключено) так что не понимаю я ничего...

апд: выключение 1038E5C0 ничем не помогло...а вот полное выключение game_sv_Deathmatch::checkForRoundStart помогло...надо ещё пару раз проверить, убедиться...

апд: аномалии выключаются не параметром запуска сервера а переменной консоли - sv_anomalies_enabled (щас узнал что у меня она на нуле) - пробую вырубить StartAnomalies (это в OnRoundStart)

апд: старт аноманий не проканал...пробую сам он раунд старт вырубить...работает....что же там такого происходит...

апд: сменил он раунд старт с дезматчевского на мп...всё упало...там вызов ивента, подменю ивент событие на гейм стейтовское...

апд: сменил дмовский онивент на мп онивент, но думаю бяда именно в нём...в силу верхнего апд...надо разобраться что за ивент отсылается и посмотреть что делает...

25.03.2012: пробую по другому найти бяду...поставил бряки на количество зареганых спейс рестрикторов, регистрацию и анрегистрацию...жду пока какой нибудь бряк вызовется...

апд: 10075A83 - выпал бряк, меняет количество зареганых спейс рестрикторов...что это за сволочь и какого фига вызвалась?

апд: это CSpaceRestrictionHolder::collect_garbage...вызвалось из 100761ED...а тот из 10074585...а тот из 10072F7E...а тот из 100714A0... а тот из 1005A196...а тот из 100E2F2C...100E8691...100DD8A9...

апд: сразу после этой херотени проверил как выходит сервак...-слетел нахуй...значит беда гдето в этой зоне, но точнее...

апд: 1030C055 -> 

26.03.2012: определил причину зависания сервера - сборщик мусора отчищает всё дерево к черту и на следующем рестрикторе сервак работает с пустым деревом что уводит его в бесконечный аут

апд: при нормальной работе условие 100759DA должно выводить...

апд: ёперный театр это условие на время!!!!!!!! ровно 5 минут даётся!!!!

апд: на лабх8 поиграл и потом вылет:

FATAL ERROR
 
[error]Expression    : CL
[error]Function      : xrServer::Process_update
[error]File          : D:\prog_repository\sources\trunk\xrGame\xrServer_process_update.cpp
[error]Line          : 10
[error]Description   : Process_update client not found

27.03.2012: перейду на исправление режима захват артефакта...

апд: бяда приходит при попытке уничтожить труп какого то несуществующего объекта (точнее вектор с количеством трупов почему то имеет количество больше 10 (максимум трупов) и поэтому всё летит дальше, в уничтожение трупов...но какого то чёрта айдишники в векторе не верные...что не так??

апд: 0x4170 - CALifeSimulator...чтото режим захват артефакта в нём ломает умудряется...

апд: нужно понять какие именно данные хранятся в этом векторе...

апд: проверил работоспособность голосования, вроде всё нормально меняет режим...может в бете 4 и был баг но тут его нет

28.03.2012: продолжаю мучить захват артефакта...
1. xrServer::SLS_Default
2. 34AD80 -> 378590

апд: вырубил сборщик трупов - трупы убираются другой системой, а режимы все работают как надо :)

29.03.2012: Займусь комьюнити актора...

01.04.2012: Оказалось что загружался профиль default для мп актора, сделал загрузку mp_actor профиля, в профиле указал специфики mp_actor, теперь всё загружается...но боты не реагируют на комьюнити, надо акторов в скрипты занести и всё будет нормально

02.04.2012: надо убрать сраный интерфейс актора у серверного клиента при подключении...

03.04.2012: 104B06A3 - CActor::OnHUDDraw

апд: поправил довольно просто: чтобы рисовался хад надо чтобы объект был главным Entity, главный выбирается при создании в зависимости от флага, нужно чтобы был и 1 и 8, поэтому при спавне обычному актору ставлю флаг 0x21

апд: поправил спавн юпитера, но при полной загрузке - вылет, и на припяти тоже - вылет...мп карты переделал и проверил, агропром слетает, зря я убрал фикс пси собаки

04.04.2012: 5 бета готова к выпуску...одна только недоделка - припять и юпитер не запускаются...до 6 числа время ещё есть, надо проверить что с ними не так...